[TOC]

# 进程同步

## Crition Section

为了保证某段代码的原子性，该段代码需要处于临界区(crition section)内，同一时间内只能有一个线程在临界区运行。

![](https://raw.githubusercontent.com/cluckl/Pinnned-repo/master/img/20210504110034.png)

* Entry Section：获取进入临界区的资源
* Exit Section：释放临界区的资源，通知其他线程临界区目前是空闲的

## Solution to the Critical Section Problem

* **Mutual Exclusion(忙则等待)**：Only **one process** can be **inside the critical section** at any time. If any **other processes** require the critical section, they must **wait until it is free**.
* **Progress(空闲让进)**：Any process can enter a critical section **if it is free**.
* Bounded Waiting(有限等待)：Each process must have a **limited waiting time**. 
* 让权等待：当进程不能进入自己的临界区时，应立即释放处理机，以免进程陷入“忙等”状态。

## Solution

* **互斥量( Mutex)**: 采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。
* **信号量( Semphares)**: 一般来说只有一个共享的整型**计数器**，该计数器由内核维护和操作。该机制运行同一时刻多个线程同时访问一个资源。
* **事件( Event)**: Wait/ Notify:通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级的比较操作。

# Reference





* [Critical Section Problem](https://www.tutorialspoint.com/critical-section-problem)